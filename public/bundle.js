(()=>{"use strict";var e={102:()=>{},651:()=>{},865:(e,t,s)=>{s.d(t,{Z:()=>o});var i=s(890),n=function(e,t,s,i){return new(s||(s=Promise))((function(n,o){function a(e){try{d(i.next(e))}catch(e){o(e)}}function l(e){try{d(i.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(a,l)}d((i=i.apply(e,t||[])).next())}))};class o{constructor(){this._users=[],this._view=new i.Z,this._actualUser=new User,this._cocktails=[],this._messageBox=new MessageBox,this._urlApi="https://6148b332035b3600175b9fd8.mockapi.io/Bar/1/"}get messageBox(){return this._messageBox}get cocktails(){return this._cocktails}get users(){return this._users}get actualUser(){return this._actualUser}set actualUser(e){this._actualUser=e}filterFavorites(){this._actualUser instanceof RegisteredUser&&this._view.showCocktails(this._actualUser.favorites)}addUser(e){this._users.push(e)}showBox(){this._view.showBox(this._messageBox)}showCocktails(){this._view.showCocktails(this._cocktails)}cocktailFromId(e){let t=0;for(;this._cocktails[t].id!=e;)t++;return this._cocktails[t]}addCocktail(e){return n(this,void 0,void 0,(function*(){yield this.postCocktailApi(e),this._cocktails=yield this.getCocktailsApi(),this._view.showCocktails(this._cocktails)}))}deleteCocktail(e){return n(this,void 0,void 0,(function*(){let t="";for(let s=1;s<e.length;s++)t+=e[s];yield this.deleteCocktailApi(t),this._cocktails=yield this.getCocktailsApi(),this._view.showCocktails(this._cocktails)}))}postCocktailApi(e){return n(this,void 0,void 0,(function*(){try{yield fetch(`${this._urlApi}Cocktail`,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)})}catch(e){alert("ERROR CATCH POST USER")}}))}getCocktailsApi(){return n(this,void 0,void 0,(function*(){let e;try{let t=yield fetch(`${this._urlApi}Cocktail`);e=yield t.json(),t.ok||(e=[])}catch(t){alert("ERROR CATCH GET COCKTAILS"),e=[]}return e}))}deleteCocktailApi(e){return n(this,void 0,void 0,(function*(){try{yield fetch(`${this._urlApi}Cocktail/${e}`,{method:"DELETE"})}catch(e){alert("ERROR CATH DELETE COCKTAIL")}}))}}},371:()=>{User},546:()=>{},890:(e,t,s)=>{s.d(t,{Z:()=>n});var i=s(823);class n{createCocktail(e){let t=document.createElement("div");t.classList.add("card");let s=document.createElement("div");s.classList.add("card-container");let n=document.createElement("div");n.classList.add("card-front");let o=document.createElement("div");o.classList.add("card-text","flex-column","center");let a=document.createElement("div");a.classList.add("text-center");let l=document.createElement("div");l.classList.add("card-back","text-center");let d=document.createElement("span");d.classList.add("trashcan","material-icons-outlined"),d.innerHTML+="delete",d.id=`-${e.id}`,d.addEventListener("click",(function(){i.K.actualUser instanceof RegisteredUser?i.K.deleteCocktail(this.id):(i.K.messageBox.message="You Should Be Login For Delete Option",i.K.showBox())})),a.appendChild(d);let c=e.ingredients,r=document.createElement("h1");r.innerText="Ingredients",a.appendChild(r);for(let e=0;e<c.length;e++){let t=document.createElement("p");t.innerText=`${c[e]}`,a.appendChild(t)}let u=document.createElement("span");return u.classList.add("star","material-icons-outlined"),u.innerText="star",u.id=e.id,u.addEventListener("click",(function(){if(i.K.actualUser instanceof RegisteredUser){const e=this.id,t=i.K.cocktailFromId(e);i.K.actualUser.addFavorite(t),i.K.messageBox.message="Cocktail Added To Favorites",i.K.showBox()}else i.K.messageBox.message="You Should Be Login For Favorite Option",i.K.showBox()})),a.appendChild(u),l.innerHTML+=`<h1>${e.name}</h1>`,l.innerHTML+=`<img src="${e.image}" />`,o.appendChild(a),n.appendChild(o),s.appendChild(n),s.appendChild(l),t.appendChild(s),t}showCocktails(e){const t=document.getElementById("cards-container");if(null!=t){t.innerHTML="";for(let s=0;s<e.length;s++)t.appendChild(this.createCocktail(e[s]))}}showBox(e){const t=document.getElementById("container-inside-login");let s=document.createElement("div");s.id="message",s.classList.add("message","flex-column");let i=document.createElement("p");i.innerText=`${e.message}`;let n=document.createElement("button");n.id="btn-box",n.classList.add("btn"),n.innerText="Accept",n.addEventListener("click",(function(){null==t||t.removeChild(s)})),s.appendChild(i),s.appendChild(n),null==t||t.prepend(s),s.scrollIntoView()}}},823:(e,t,s)=>{s.d(t,{K:()=>l});var i,n,o=s(865);const a=document.getElementById("login-form");a.addEventListener("submit",(e=>{var t,s;e.preventDefault();const i=e.explicitOriginalTarget;if("btn-register"==i.id){let e=document.getElementById("username").value,t=document.getElementById("pass").value;if(""!==e&&""!==t){let s=new RegisteredUser;s.name=e,s.pass=t,l.addUser(s),l.messageBox.message="Congratulations! You Are Registered",l.showBox()}else l.messageBox.message="Usernama And Password Required For Registration",l.showBox()}if("btn-login"==i.id){let e=document.getElementById("username").value,i=document.getElementById("pass").value;if(""!==e&&""!=i)if(0!=l.users.length)for(let n=0;n<l.users.length;n++){let o=l.users[n];o.name==e&&o.pass==i?(l.actualUser=o,null===(t=document.getElementById("form-cocktails"))||void 0===t||t.classList.toggle("hidden-container"),null===(s=document.getElementById("login-form"))||void 0===s||s.classList.toggle("hidden-container"),l.messageBox.message=`Welcome ${o.name}!`,l.showBox()):(l.messageBox.message="Username Or Password Incorrect!",l.showBox())}else l.messageBox.message="No Users Registered",l.showBox();else l.messageBox.message="Username And Password Required",l.showBox()}})),document.getElementById("form-cocktails"),a.addEventListener("submit",(e=>{e.preventDefault(),e.explicitOriginalTarget;let t=document.getElementById("cocktailName").value,s=document.getElementById("ingredients").value.split(","),i=document.getElementById("image").value,n=(l.cocktails.length+1).toString(),o=new Cocktail;o.name=t,o.ingredients=s,o.image=i,o.id=n,l.addCocktail(o)})),null===(i=document.getElementById("btn-favorites"))||void 0===i||i.addEventListener("click",(function(){var e,t;l.actualUser instanceof RegisteredUser?(l.filterFavorites(),null===(e=document.getElementById("btn-all"))||void 0===e||e.classList.toggle("hidden-container"),null===(t=document.getElementById("btn-favorites"))||void 0===t||t.classList.toggle("hidden-container")):(l.messageBox.message="You Should Be Login For Favorite Option",l.showBox())})),null===(n=document.getElementById("btn-all"))||void 0===n||n.addEventListener("click",(function(){var e,t;l.showCocktails(),null===(e=document.getElementById("btn-all"))||void 0===e||e.classList.toggle("hidden-container"),null===(t=document.getElementById("btn-favorites"))||void 0===t||t.classList.toggle("hidden-container")}));const l=new o.Z},2:()=>{document.getElementsByClassName("arrow-down")[0].addEventListener("click",(function(){var e;null===(e=document.getElementById("ul-btns"))||void 0===e||e.classList.toggle("show")}))}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,s),o.exports}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s(865),s(823),s(890),s(102),s(651),s(371),s(2),s(546)})();